# 스택(Stack)
## 스택 구조
접시가 여러 개 아래에서 위로 쌓여 있다면, 맨 위의 접시를 들어 사용하고 다음 접시 역시 그 다음 위에 있는 접시를 쓰게 된다.   
이와 같이, **가장 나중에 들어온 데이터를 먼저 사용**&ZeroWidthSpace;하는 방식의 자료구조가 스택이다.   
이런 구조를 후입선출(後入先出)식 구조, **LIFO**&ZeroWidthSpace;(Last-In-First-Out)라고 부른다.   

- 프링글스와 같은 원통형 과자는 위에 있는 과자부터 꺼내 먹게 된다.
- 키보드 입력을 하다가 백스페이스를 누르게 되면 가장 마지막에 누른 글자가 지워진다.
- 한글, 워드, 파워포인트 등의 여러 편집기는 최근에 한 작업 순으로 실행 취소(Ctrl+Z)를 지원한다.

## 스택 개념과 원리
스택 원소에서 사용되는 개념들에 대해 알아보자.

### 스택 탑 원소(top)
스택의 맨 위에 있는 원소를 탑 혹은 탑 원소라고 한다.   
스택은 구조상 **맨 뒤에 있는 원소만** 접근 가능하기 때문에 중요한 개념이다.   
새 원소를 삽입하게 되면 탑 위에 원소를 저장하고 **새 원소가 탑 원소가 된다.**
원소를 삭제하게 되면 탑 원소를 삭제하고 **그 아래 원소가 탑 원소가 된다.**

### 스택 원소 삽입과 삭제
스택에서 삽입할 때는 아래부터 쌓아 올라가고 삭제는 맨 위에서 이루어진다.   
삽입할 때는 삽입할 원소를 명시하지만 삭제할 때는 맨 위만 삭제하므로 원소를 명시할 필요가 없다.   
내용을 알려달라고 하면 **항상 맨 위에 있는 원소만을** 알려준다.

### 가상 메모리 구조에서의 스택
일반적인 가상 메모리 구조는 다음과 같다:
- 동적 영역(dynamic space)
  - 힙(heap) : 수행 중에 사용자가 할당받는 메모리 (Java의 new, C의 malloc)
  - 스택(stack) : active 상활성 상태의 함수 관련 파라미터와 변수들
- 정적 영역(static space)
  - 데이터(data) : 프로그램이 끝날 때까지 없어지지 않는 데이터, 전역 변수, 정적 변수
  - 코드(code) : 프로그램을 수행하는 코드 (기계어 형태로)

> JAVA에서는 정적 영역의 data 영역에 `main()` 함수를 저장한다. C++은 동적 영역의 스택에 저장한다.

프로그램이 가상 메모리에서 수행된다는 가정 하에 컴파일러가 컴파일하고 물리적 메모리에는 수행 시점에 대응된다.   
이런 가상 메모리 구조에서도 스택 영역이 있는데 여기에서 스택 자료구조를 활용한다.   
스택 맨 위에는 수행 중인 함수 정보가 저장되고, 함수를 호출한 함수는 아랫 공간에 저장된다.   
그래서 수행을 마친 함수가 스택 영역에서 지워지면 원래 함수로 돌아와 시작할 수 있도록 호출한 함수가 맨 위에 있게 된다.   

```
main() {
    ... A(); ...
}
A() {
    ... B();
    ... C();
}
B() {
    ... D()
}
C() { ... }
D() { ... }
```
위와 같은 형태의 함수가 진행된다고 해보자.
그렇다면 스택 구조는 다음과 같이 될 것이다.
- main()
  - main() A() <- A 호출
    - main() A() B() <- B 호출
      - main() A() B() D() <- D 호출
    - main() A() B() <- D 종료, 반환
  - main() A() <- B 종료, 반환
    - main() A() C() <- C 호출
  - main() A() <- C 종료, 반환
- main() <- A 종료, 반환

## 스택 ADT 구조
스택의 추상 데이터 타입은 다음과 같이 작성할 수 있다.
```
맨 윗부분에 원소를 추가한다.
맨 윗부분에 있는 원소를 알려준다.
맨 윗부분에 있는 원소를 삭제하면서 알려준다.
스택이 비어 있는지 확인한다.
스택을 깨끗이 비운다.
```
3개는 스택의 핵심 작업이고, 뒤에 있는 2개는 거의 모든 자료구조에 공통적인 작업이다.





